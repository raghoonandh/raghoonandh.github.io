<!DOCTYPE html>
<meta charset="utf-8">
<style>

text {
  font: 10px sans-serif;
  text-anchor: middle;
}

.node--hover circle {
  stroke: #000;
  stroke-width: 1.2px;
}

</style>
<body> 
<div id='viz'> </div>
<div id= 'viz2'> </div>
</body>
<svg width="960" height="960"><g transform="translate(1,1)"></g></svg>
<script src="https://d3js.org/d3.v3.min.js"></script>
<link rel="stylesheet" href="bubble.css">
<script>

var dataset = {className:"root", children:[
    {name:"subtree-1", value:20},
    {name:"subtree-2", value:40},
    {name:"subtree-3", value: 80},
    {name:"subtree-4", value: 30},
     {name:"subtree-3", value: 20},
     {name:"subtree-3", value: 110},
      {name:"subtree-3", value: 10},
      {name:"subtree-3", value: 10},
      {name:"subtree-3", value: 50},
      {name:"subtree-3", value: 40},
      {name:"subtree-3", value: 20},
      {name:"subtree-3", value: 15}
]};

var r = 300;
var pack = d3.layout.pack()
    .sort(null)
    .size([r, r]);

 
var container = d3.select("#viz").append("svg:svg")
    .attr("width", r)
    .attr("height", r)
    .attr("class", "container");

var node = container.selectAll("g.node")
    .data(pack.nodes(dataset))
    .enter().append("svg:g")
        .attr("class", "node")
        .attr("transform", function(d) {
            return "translate(" + d.x + "," + d.y + ")"; });

node.append("svg:circle")
    .attr("r", function(d) { return d.r; })
    .style("fill", function(d) { return d.children ? 'blue' : 'orange'; })
    .style("fill-opacity", function(d) { return d.parent === dataset ? 0.5 : 0.1; });


node.append("text")
      .text(function(d){return d.children? '' :'test'})

</script>
<script type="text/javascript" src='bubblechart.js'></script>