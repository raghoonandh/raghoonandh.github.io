<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
</head>
<body>

  <svg width="600" height="600">
  </svg>

  <script src="bower_components/d3/d3.min.js"></script>
  <script src="chart.min.js"></script>
  <script>
  class RedBar extends BarChart {
    constructor(options) {
      super(options)
      this
        .y(function(d) { return d.y})
        .y0(0)
        .on('draw', function(node) {
          this.update()
              .attr('fill', 'rgba(255, 0, 0, .2)')
              .attr('stroke', 'white')
        })
    }
  }

  function ypos(ystart, height) {
    return function(node) {
      var size = this.size(node)
      d3.select(node)
        .attr('width', size.width)
        .attr('height', height * size.height)
        .attr('y', ystart * size.height)
        .attr('x', 0)
    }
  }

  var data = [{y: 1}, {y: 2}, {y: 3}]
  var chart = new Chart()
    .call(function(chart) {
      chart
        .child('top.<svg>', new RedBar().on('predraw', ypos(0, 0.33)))
        .child('middle.<svg>', new RedBar().on('predraw', ypos(0.33, 0.33)))
        .child('bottom.<svg>', new RedBar().on('predraw', ypos(0.66, 0.33)))
        .childprop('data')
    })
    .data(data)
    .draw('svg')
  </script>
</body>
</html>
